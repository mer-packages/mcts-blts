
        mwts-gcamera
        ---------------

INTRODUCTION 

The mwts-gcamera tests camera features of gstreamer.

Test are done to:       
  
Test scenarios include:

Questions: MWTSSupport@nokia.com

See document MWTS.README under doc directory for detailed general 
information about mwts test modules.


SOURCE CODE AND COMPILING

mwts-gcamera compiles on a typical red hat/linux distributions by executing 'sh rpmbuild.sh' if you have missing dependencies,
add them with 'zypper install <package>', if you need to search after a package you can do that with 'zypper search <package>'
and get more info with 'zypper info <package>' mwts-multimedia compiles on a typical debian/linux distributions by executing
'dpkg-buildpackage -rfakeroot', if you have missing dependencies add them with 'apt-get install <package>' on non-debian/red-hat
based linux system you can compile and install by (no dependency check) 'qmake', 'make', 'make install' (as root), if you have missing
sources you can track the package name with 'apt-file search <package>'.

Doxygen API documentation can be generated by running 'doxygen' in mwts-gcamera root directory.


ENVIRONMENT REQUIREMENTS

Set base paths for local and streaming into /usr/lib/tests/GCameraTest.conf.


EXECUTING TESTS

Tests are executed as "user", not "root". Check the MWTS.README for general instructions. Start 'min' in the shell of the device.


TEST RESULTS

Test results can be found from device in directory /var/log/tests/ Result files are named according to test cases, .result file contains overall
information about test run and measured values.


MIN SCRIPT FILES

mwts-gcamera.cfg


MIN SCRIPTER INTERFACE

  TakeVideo <duration>
    Start recording a video with given duration. Everything needs to be set up before this is called. 

  TakePicture [Burst]
    Takes a picture, it caan be called once or more times if needed. Use Burst variable.
	Everything needs to be set up beforehand.

  SetIsoSpeed 100 | 200 | 400 
    Change ISO mode of camera  	
  	
  SetAutoFocus
    Try to focus camera. Similiar of pressing snapshot button halfway
  	
  SetFPSMeasure 
    Measure framerate when doing video result is saved as 
    /var/log/tests/camera-fps.csv and is overwritten each 
    time when test is restarted
  	
  SetZoom <size>
   Set the zoom 100 < size < 1000
         
  SetFlashMode Off | On | FillIn | RedEye
    Set flash mode	
        
  SetTone Normal | Sepia | Negative | Grayscale | Natural | Vivid | Colorswap | Solarize | OutOfFocus
    Set tone of picture to be taken

  SetResolution <x> <y> [fps] [fpsdivide]
	Set resolution and frame rate as optional. If video is being taken, 
    then the frame rate be given. Real frames per second = FPS / FPSDIVIDE      
  
  	Known image sizes and video rates:
        Image: Name, x, y 
        VGA, 640, 480
        1,3Mpix (1280x960), 1280, 960
        3Mpix (2048x1536), 2048, 1536
        3,5Mpix 16:9 (2592x1456), 2592, 1458
        5Mpix (2592x1968), 2592, 1944
        5Mpix wide (2592x1458), 2592, 1458
        
		Video: Name, x, y, fps, fpsdivide
        QVGA, 320, 240, 1496, 100
        VGA, 640, 480, 25, 1
        CIF, 352, 288, 2997, 100
        QCIF, 176, 144, 1499, 100       
        NTCS, 720, 486, 2999, 100
 	    PAL, 720, 576, 25, 1
        WCGA, 800, 480, 25, 1
        
    SetPostProcessing 
     Use picture post prosessing
  
    SetVideoCodecs <video> <mux> <audiosrc> <audiocodec> <extension>
	 Add codec handlers to pipeline. Order of arguments must be VIDEO, MUXER,
     AUDIOSOURCE, AUDIOCODEC, FILE_EXTENSION
 	
    SetWhitebalance Auto | Cloudy | Sunset | Tungsten | Fluorscent
      Choose whitebalance mode 

    SetExposure <amount>
      Set amount of exposure
   
    SetAperture <amount>
      Set aperture amount
	
TRACING

Log file can be found in /var/log/tests if the environment variable MWTS_DEBUG has been set to 1.
    Command: export MWTS_DEBUG=1


KNOWN ISSUES


OTHER RESOURCES  
                               
