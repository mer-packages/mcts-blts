
    MWTS-MULTIMEDIA
    ---------------


INTRODUCTION

mwts-multimedia s a test package aimed for testing basic functionalities of Qt Mobility Multimedia. mwts-multimedia contains tests for:
    Audio recorder. Tests are designed to address:
        - various codecs
        - various input device
        - various channels
        - various sample and bit rate
    image viewer. Tests are designed to address:
        - various codecs
        - various resolutions
        -reliability
    fm radio. Tests are designed to address:
        - various frequencies

Test scenarios include:
    - recording audio
    - seeking forwards and backwards, to relative position
    - playing image file(s) from absolute directory/file path

The package is currently intended only for MeeGo, Maemo devices.
Questions: MWTSSupport@nokia.com See document MWTS.README for detailed general information about mwts test modules.
  
  
SOURCE CODE AND COMPILING

mwts-multimedia compiles on a typical red hat/linux distributions by executing 'sh rpmbuild.sh' if you have missing dependencies,
add them with 'zypper install <package>', if you need to search after a package you can do that with 'zypper search <package>'
and get more info with 'zypper info <package>' mwts-multimedia compiles on a typical debian/linux distributions by executing
'dpkg-buildpackage -rfakeroot', if you have missing dependencies add them with 'apt-get install <package>' on non-debian/red-hat
based linux system you can compile and install by (no dependency check) 'qmake', 'make', 'make install' (as root), if you have missing
sources you can track the package name with 'apt-file search <package>'.

Doxygen API documentation can be generated by running 'doxygen' in mwts-multimedia root directory.
  

ENVIRONMENT REQUIREMENTS

For audio recorder test cases
    Setting up test environment is done normally. Check the MWTS.README and from there installing testdata from projects.maemo.org .
For image viewer
    Please note that it is possible to download and install only part of the whole testdata set. For example, if only the audio files
    are needed, use the command ' svn co https://projects.maemo.org/svn/testdata/media/Image ' to download only these.
For fm radio test cases
    An antenna, i.e. headset must be connected to the device.


EXECUTING TESTS

Tests are executed as "user", not "root". Check the MWTS.README for general instructions. Start 'min' in the shell of the device.
Select a case, observe if audio is recorded or image is shown, fm radio played correctly and check the test result from min and the log files.

TEST RESULTS

Test results can be found from device in directory /var/log/tests/ Result files are named according to test cases, .result file contains overall
information about test run and measured values.


MIN SCRIPT FILES

Basic functionality test cases, nft

mwts-multimedia-audiorecorder.cfg

mwts-multimedia-imageviewer.cfg
mwts-multimedia-imageviewer-nft.cfg

mwts-multimedia-fmradio.cfg

MIN SCRIPTER INTERFACE

  #audio recorder
  SetRecordingDuration <milliseconds>
     Sets the duration of the recording
  SetContainer <container>
     Sets container for audio output. Use it if you don't want to use default container.
  SetCodec <codec>
     Sets the used audio codec name
  SetDevice <device>
     Sets the used input device of the recording
  SetQuality <quality>
     Sets the recording quality: very_high, high, normal, low, very_low
  SetPath <directory path>
     Sets the directory path of the recording output file
  SetChannelCount <count>
     Sets the channel count. Mono:1, Stereo:2
  SetBitRate <bitrate>
     Sets the value of bitrate in bit/sec.
  SetSampleRate <frequency>
     Sets the vale of sample rate (frequency) in Hertz
  Record
     Records audio according to the duration (SetDuration <duration>)  then stops and saves

  #image viewer
  SetImageTimeout <milliseconds>
    Set the timeout, one image is showed for <milliseconds> time
  PlayImageViewer [ <directory path> | <file path> | no parameter = default from MultimediaTest.conf ]
  Gets directory/file path as a paramater or no paramater
  and displays every image from the directory/given file or default path is read from the MultimediaTest.conf file

  #fm radio
  SetFrequency <frequency>
    Sets the frequency in Hertz
  ScanUp
    Starts a foreward scan for a signal, starting from the current frequency
  ScanDown
    Starts a backward scan for a signal, starting from the current frequency
  SetVolume <volume>
    Set the radio volume in percentage
  PlayRadio
    Starts to play the radio on the set frequency for a certain time

  #audio player
  SetMedia <media path>
    Sets path to audio media file to play
  SetPlaybackVolume <volume>
    Sets volume of audio media player. Value between  0 and 100.
  Play
    Playback set audio media file. It plays whole file. So duration can't be long.
  PlayRecordedAudio
    Plays recently recorder audio. Use after Record function.

TRACING

Log file can be found in /var/log/tests if the environment variable MWTS_DEBUG has been set to 1.
    Command: export MWTS_DEBUG=1


KNOWN ISSUES

 At the audio an recorder external microphone is recommended to use on netbook.
 The fm radio is not supported on MeeGo with Qt Mobility Multimedia, but on Fremantle. Currently the image viewer does not play GIF and AnimGiF types.

OTHER RESOURCES

The config/MultimediaTest.conf contains several DEFAULT settings to the audio recorder.
Setting default codec and container from conf file is currently not available.

    #default audio recorder settings
    [RECORDER]
    ...
    duration=4000
    codec=audio/vorbis
    device=alsa:front:CARD=Intel,DEV=0
    ....
    filename=recorded_audio????
    ...
    ...

The RECORDER has only one value which cannot be set from the script. The has the value ' which generates incremental filename, which helps to avoid overwriting each file. In this case the recorded audio filename will be recorded_audio0000, after second round recorded_audio0001, then recorded_audio0002..There are 2 limitations on the usage of the question marks: the highest possible substituted value must fit in an "int" and there must be at most one sequence of question marks.
In the image viewer if no parameter is given to the PlayImageViewer function, it implicitly takes the directory/file value from here.

    ...
    #default image viewer settings
    [VIEWER]
    path=/home/user/MyDocs/testdata/Image/JPEG
    ...
    ...

The fm radio has very basic settings .

    ...
    #default fm radio settings
    [FMRADIO]
    frequency=89900
    duration=3000
    volume=70

The audio player settings. So far only volume can be set in this conf file.

    #default media player settings
    [PLAYER]
    volume=70


